global
    log /dev/log local0
    log /dev/log local1 notice
    maxconn 32768
    user haproxy
    group haproxy
    daemon
    stats socket /run/haproxy/stats.sock user haproxy group haproxy mode 0640 level operator
    tune.bufsize 32768
    tune.maxrewrite 1024
    tune.ssl.default-dh-param 4096
    ssl-default-bind-options no-sslv3 no-tlsv10 no-tlsv11
    ssl-default-bind-ciphers ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384
    ssl-default-bind-ciphersuites TLS_AES_128_GCM_SHA256:TLS_AES_256_GCM_SHA384:TLS_CHACHA20_POLY1305_SHA256

defaults
    log     global
    mode    http
    option  log-health-checks
    option  log-separate-errors
    option  dontlog-normal
    option  dontlognull
    option  httplog
    option  socket-stats
    retries 3
    option  redispatch
    maxconn 10000
    timeout connect 5s
    timeout client 50s
    timeout server 450s

listen stats
    bind    127.0.0.1:8090
    bind    ::1:8090 v6only
    stats   enable
    stats   uri /
    stats   refresh 5s
